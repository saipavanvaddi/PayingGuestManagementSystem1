<div class="table-responsive">
  <table class="table table-hover mb-0">
    <thead class="bg-light text-dark fw-medium">
      <tr>
        <th class="py-3 ps-4">Flat Number</th>
        <th class="py-3">Amount</th>
        <th class="py-3">Payment Date</th>
        <th class="py-3">Transaction ID</th>
        <th class="py-3">Payment Mode</th>
        <th class="py-3">Status</th>
        <th class="py-3">Remarks</th>
        <th class="py-3 pe-4">Actions</th>
      </tr>
    </thead>
    <tbody>
      {% for payment in payments %}
        <tr class="align-middle hover-effect">
          <td class="ps-4">{{ payment.flat.flat_number }}</td>
          <td>â‚¹{{ payment.amount }}</td>
          <td>{{ payment.payment_date }}</td>
          <td>{{ payment.transaction_id|default:"N/A" }}</td>
          <td>{{ payment.get_payment_mode_display }}</td>
          <td>
            <span class="badge 
              {% if payment.status == 'COMPLETED' %}bg-success
              {% elif payment.status == 'FAILED' %}bg-danger
              {% else %}bg-warning text-dark{% endif %} px-2 py-1">
              {{ payment.get_status_display }}
            </span>
          </td>
          <td>{{ payment.remarks|default:"No remarks" }}</td>
          <td class="pe-4 text-center">
            <button type="button"
                    class="border-0 bg-transparent p-0 text-warning"
                    data-bs-toggle="modal"
                    data-bs-target="#updateStatusModal"
                    data-payment-id="{{ payment.pk }}"
                    data-flat-number="{{ payment.flat.flat_number }}"
                    data-current-status="{{ payment.status }}"
                    data-remarks="{{ payment.remarks|default_if_none:'' }}">
                <i class="fas fa-pen-to-square fs-5"></i>
            </button>
        </td>
        
        </tr>
      {% empty %}
        <tr>
          <td colspan="8" class="text-center py-4 text-muted">No payments found.</td>
        </tr>
      {% endfor %}
    </tbody>
  </table>
</div>
